<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
	
<mapper namespace="com.bob.stepy.dao.ResDao">

<!-- 예약하려는 가게 정보 가져오기 -->
<select id="getStoreInfo" parameterType="String" resultType="com.bob.stepy.dto.StoreDto">
	SELECT * FROM S WHERE S_NUM=#{c_num}
</select>


<!-- 예약하려는 상품(룸) 정보 가져오기 -->
<select id="getProductInfo" parameterType="Integer" resultType="com.bob.stepy.dto.ProductDto">
	SELECT * FROM PL WHERE PL_NUM=#{pl_num}
</select>


<!-- 예약 -->
<select id="reservation" parameterType="com.bob.stepy.dto.ResTicketDto">
	INSERT INTO RES VALUES (RESTICKET_SEQ.NEXTVAL, sysdate, #{res_plnum}, #{res_mid}, #{res_name}, #{res_phone},
		#{res_checkindate}, #{res_checkoutdate}, DEFAULT, DEFAULT)
</select>


<!-- 예약 취소 -->
<select id="resCancle" parameterType="Integer">
	DELETE FROM RES WHERE RES_NUM=#{res_num}
</select>

</mapper>